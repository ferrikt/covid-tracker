(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{144:function(e,t,r){},145:function(e,t,r){},168:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),o=r(29),a=r.n(o),i=(r(144),r(145),r(174)),s=r(3),l="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_covid19_confirmed_global.csv",d="https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_daily_reports/",u=r(11),b=r.n(u),j=r(12),g=r(31),x=r(23),h=r(6),f=r(63),v=r.n(f),m=r(1),p=Object(n.createContext)({}),O=function(e){var t=e.children,r=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){var e=function(){for(var e=new Date,t=[],r=0;r<4;r++){var n=e.getFullYear(),c=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getDate().toString().padStart(2,"0"),a="".concat(c,"-").concat(o,"-").concat(n,".csv");t.push(a),e.setDate(e.getDate()-1)}return t};function t(){return(t=Object(g.a)(b.a.mark((function t(){var r,n,o,a,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e(),n=Object(h.a)(r),t.prev=2,n.s();case 4:if((o=n.n()).done){t.next=21;break}return a=o.value,t.prev=6,i=d+a,t.next=10,v.a.get(i);case 10:if(200!==t.sent.status){t.next=15;break}return c(i),t.abrupt("break",21);case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(6);case 19:t.next=4;break;case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(2),n.e(t.t1);case 26:return t.prev=26,n.f(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,23,26,29],[6,17]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),r}();console.log("dailyUrl=".concat(r));var c=function(e,t){var r=Object(n.useState)(null),c=Object(s.a)(r,2),o=c[0],a=c[1],i=Object(n.useState)(!0),l=Object(s.a)(i,2),d=l[0],u=l[1],h=Object(n.useState)(0),f=Object(s.a)(h,2),v=f[0],m=f[1],p=Object(n.useState)(""),O=Object(s.a)(p,2),y=O[0],C=O[1],k=new Map;return Object(n.useEffect)((function(){u(!0);var r=0,n="";t&&function(){var c=Object(g.a)(b.a.mark((function c(){var o,i,s,l,d;return b.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,x.a(e);case 2:return o=c.sent,i=Object.keys(o[0]).length,s=o.columns,l=s[i-1],d=s[i-2],o.forEach((function(e){var t=e["Country/Region"];if(k.has(t)){var n=k.get(t),c=Number(e[l])+Number(n.today),o=Number(e[d])+Number(n.yesterday);k.set(t,{today:c,yesterday:o,newCases:c-o}),r+=Number(e[l])}else k.set(t,{today:Number(e[l]),yesterday:Number(e[d]),newCases:Number(e[l])-Number(e[d]),lat:Number(e.Lat)?Number(e.Lat):0,long:Number(e.Long)?Number(e.Long):0}),r+=Number(e[l])})),c.next=10,x.a(t);case 10:c.sent.forEach((function(e){var t=e.Country_Region;n||(n=e.Last_Update?e.Last_Update:"");var r=Number(e.Active)?Number(e.Active):0,c=Number(e.Deaths)?Number(e.Deaths):0,o=Number(e.Recovered)?Number(e.Recovered):0;if(k.has(t)){var a,i,s,l=k.get(t),d=null!==(a=l.active)&&void 0!==a?a:0,u=null!==(i=l.deaths)&&void 0!==i?i:0,b=null!==(s=l.recovered)&&void 0!==s?s:0;k.set(t,Object(j.a)(Object(j.a)({},l),{},{active:d+r,deaths:u+c,recovered:b+o}))}else k.set(t,{active:r,deaths:c,recovered:o,lat:e.Lat,long:e.Long_})})),a(k),u(!1),m(r),C(n);case 16:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}()()}),[e,t]),[o,v,y,d]}(l,r),o=Object(s.a)(c,4),a=o[0],i=o[1],u=o[2],f=o[3];return Object(m.jsx)(p.Provider,{value:{countryData:{isLoading:f,error:"this is error",data:a,globalCases:i,lastUpdated:u}},children:t})},y=function(){var e=Object(n.useContext)(p).countryData;if(e)return e;throw new Error("dailyData is empty.")},C=r(170),k=r(171),S=r(177),w=r(172),N=r(176),L=r(173),D=Object(n.createContext)({}),F=function(){var e=Object(n.useContext)(D),t=e.selectedCountry,r=e.setSelectedCountry,c=e.handleCountryClick;if("undefined"!==typeof t&&r&&c)return{selectedCountry:t,setSelectedCountry:r,handleCountryClick:c};throw new Error},A=function(e){var t=e.children,r=Object(n.useState)(""),c=Object(s.a)(r,2),o=c[0],a=c[1];return Object(m.jsx)(D.Provider,{value:{selectedCountry:o,setSelectedCountry:a,handleCountryClick:function(e){a((function(t){return t===e?"":e}))}},children:t})},_=function(e,t){var r=[];return e&&e.forEach((function(e,n){r.push({country:n,value:e[t],lat:e.lat,long:e.long})})),r},E=r(10),R=function(e){var t;return e&&null!==(t=x.b(e,(function(e){var t;return null!==(t=e.value)&&void 0!==t?t:0})))&&void 0!==t?t:0};function z(e){return Object(C.a)().setView(e.center,e.zoom),null}var I,T,B,W=function(e){var t=F().selectedCountry,r=y().data,n=_(r,"active"),c=x.c().domain([0,R(n)]).range([0,43e4]),o=null===n||void 0===n?void 0:n.filter((function(e){return e.value&&e.lat&&e.long})),a=null===o||void 0===o?void 0:o.find((function(e){return e.country===t})),s=[a?a.lat:20,a?a.long:10],l=Object(E.divIcon)({className:"css-icon",html:'<div class="gps_ring"></div>',iconSize:[50,50]});return Object(m.jsxs)(k.a,{center:s,zoom:2,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[Object(m.jsx)(z,{center:s,zoom:2}),Object(m.jsx)(S.a,{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",maxZoom:8,minZoom:2}),t&&Object(m.jsx)(w.a,{position:s,icon:l}),o.map((function(e,t){var r,n,o=null!==(r=c(e.value))&&void 0!==r?r:0;return Object(m.jsx)(N.a,{center:{lat:e.lat,lng:e.long},radius:o,stroke:!0,color:"red",weight:1,children:Object(m.jsxs)(L.a,{sticky:!0,direction:"left",offset:[-2,0],children:[Object(m.jsx)(i.c,{color:"red",children:e.country}),Object(m.jsxs)(i.e,{children:[" Total Cases:",null===(n=e.value)||void 0===n?void 0:n.toLocaleString()," "]})]})},t)}))]})},U=function(){return Object(m.jsx)(i.a,{sx:{alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:Object(m.jsx)(i.d,{strokeWidth:"4",color:"red.500"})})},M=function(e){var t=y(),r=t.data,n=t.isLoading;return Object(m.jsx)(m.Fragment,{children:n?Object(m.jsx)(U,{}):Object(m.jsxs)(i.b,{sx:{gridArea:"center",background:"black",marginLeft:10,gridTemplateRows:"auto 80px"},children:[Object(m.jsx)(i.a,{sx:{flexDirection:"column",border:"1px solid",borderColor:"gray.700"},children:Object(m.jsx)(W,{})}),Object(m.jsx)(i.a,{sx:{flexDirection:"row",background:"black",gridTemplateColumns:"6fr 9fr"},children:Object(m.jsxs)(i.a,{sx:{background:"#222",border:"1px solid",borderColor:"gray.700",marginRight:"10px",padding:10,alignItems:"center",flexDirection:"column"},children:[Object(m.jsx)(i.c,{sx:{fontSize:"3xl",fontWeight:"bold"},children:null===r||void 0===r?void 0:r.size}),Object(m.jsx)(i.e,{sx:{fontSize:"xs"},children:"countries/regions"})]})})]})})},G=r(36),P=r(37),V=P.a.div(I||(I=Object(G.a)(["\n    font-size: 1.6994866rem;\n    line-height: 1.3875;\n    color: #bdbdbd;\n    height: 44px;\n"]))),Y=P.a.ul(T||(T=Object(G.a)(["\n    list-style-type: none;\n    margin: 0;\n    padding-left: 0;\n   \n"]))),Z=P.a.li(B||(B=Object(G.a)([" \n    padding-top: 0.5rem;\n    padding-bottom: 0.5rem;\n    border-bottom: 1px solid #5c5c5c;\n    padding-left:10px;\n    font-size: 1.1019rem;\n    font-weight: normal;\n    text-align: left;\n    display: flex;\n    cursor: pointer;\n    background: ",";\n"])),(function(e){return e.selected?"black":""})),H=function(e){return Object(m.jsx)(i.a,{sx:{border:"1px solid",borderColor:"gray.700",margin:"10px",bg:"#222",alignItems:"center",justifyContent:"center",display:"flex",gridArea:"header"},children:Object(m.jsx)(V,{children:"Covid-19 Information Dashboard"})})},J=function(e){var t,r,n=y(),c=n.isLoading,o=n.data,a=n.globalCases,s=n.lastUpdated,l=F(),d=l.selectedCountry,u=l.handleCountryClick,b=_(o,"today"),j=b.sort((function(e,t){return t.value-e.value})),g=b.find((function(e){return e.country===d}));return Object(m.jsxs)(i.b,{sx:{gridTemplateRows:"1fr 15fr 2fr",gridArea:"left",marginLeft:10},children:[Object(m.jsx)(i.a,{sx:{alignItems:"center",justifyContent:"center",flexDirection:"column",backgroundColor:"gray.600",border:"1px solid",borderColor:"gray.700",padding:"10px 0 10px 0"},children:c?Object(m.jsx)(U,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(i.c,{children:[" ",d||"Global Cases"," "]}),Object(m.jsx)(i.c,{color:"red",children:""===d?null!==(t=null===a||void 0===a?void 0:a.toLocaleString())&&void 0!==t?t:"No data":null===g||void 0===g?void 0:g.value.toLocaleString()})]})}),Object(m.jsx)(i.a,{sx:{overflowY:"scroll",flexDirection:"column",backgroundColor:"gray.600",border:"1px solid",borderColor:"gray.700",alignItems:"center"},children:c?Object(m.jsx)(U,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.c,{sx:{fontSize:"md",marginTop:2},children:"Cases by"}),Object(m.jsx)(i.c,{sx:{fontSize:"xs"},children:"Country/Region/Sovereignty"}),Object(m.jsx)(Y,{children:j.map((function(e){var t,r;return Object(m.jsxs)(Z,{onClick:function(){return u(e.country)},selected:d===e.country,children:[Object(m.jsx)(i.e,{sx:{color:"red",marginRight:2},children:null!==(t=null===(r=e.value)||void 0===r?void 0:r.toLocaleString())&&void 0!==t?t:"No data"}),Object(m.jsxs)(i.e,{children:[" ",e.country]})]})}))})]})}),Object(m.jsx)(i.a,{sx:{backgroundColor:"gray.600",border:"1px solid",borderColor:"gray.700",flexDirection:"column",padding:10},children:c?Object(m.jsx)(U,{}):Object(m.jsxs)(i.a,{sx:{flexDirection:"column",alignItems:"center"},children:[Object(m.jsx)(i.c,{sx:{fontSize:"xs"},children:"Last Updated at"}),Object(m.jsx)(i.c,{sx:{fontSize:"md"},children:null!==(r=null===s||void 0===s?void 0:s.toLocaleString())&&void 0!==r?r:"No data"})]})})]})},q=function(e){return"active"===e?"purple.400":"deaths"===e?"gray.500":"recovered"===e?"green.500":"pink.400"},K=function(e){var t,r,n=y(),c=n.isLoading,o=n.data,a=F().selectedCountry,s=[],l=0,d=0,u=e.tag,b=function(e){switch(e){case"new":return"newCases";case"active":return"active";case"deaths":return"deaths";case"recovered":return"recovered"}return"newCases"}(u);o&&o.forEach((function(e,t){s.push({country:t,value:e[b]}),l+=e[b],t===a&&(d=e[b])}));var j=s.sort((function(e,t){return t.value-e.value}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.a,{sx:{alignItems:"center",justifyContent:"center",flexDirection:"column",background:"#222",border:"1px solid #363636"},children:c?Object(m.jsx)(U,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.c,{color:"white",children:a||"Global"}),Object(m.jsx)(i.c,{color:q(u),children:a?d.toLocaleString():null!==(t=null===(r=l)||void 0===r?void 0:r.toLocaleString())&&void 0!==t?t:"No data"}),Object(m.jsxs)(i.c,{children:[u," "," cases"]})]})}),Object(m.jsx)(i.a,{sx:{overflowY:"scroll",flexDirection:"column",background:"#222",border:"1px solid #363636"},children:c?Object(m.jsx)(U,{}):Object(m.jsx)(Y,{children:j.map((function(e){var t,r;return Object(m.jsxs)(Z,{selected:a===e.country,children:[Object(m.jsx)(i.e,{sx:{marginRight:2},color:"gray.100",children:e.country}),Object(m.jsx)(i.e,{color:q(u),children:null!==(t=null===(r=e.value)||void 0===r?void 0:r.toLocaleString())&&void 0!==t?t:"No data"})]})}))})})]})},Q=function(e){return Object(m.jsxs)(i.b,{sx:{gridArea:"right",border:"1px solid",borderColor:"gray.700",marginLeft:"10px",marginRight:"10px",background:"gray.600",gap:1,gridTemplate:'"Left Right" 6fr\n                "Left Right" 6fr'},children:[Object(m.jsx)(i.b,{sx:{gridArea:"Left",bg:"black",gridTemplateRows:"auto auto"},children:Object(m.jsx)(K,{tag:"new"})}),Object(m.jsx)(i.b,{sx:{gridArea:"Right",bg:"black",gridTemplateRows:"auto"},children:Object(m.jsx)(K,{tag:"recovered"})})]})},X=function(){return Object(m.jsxs)(i.b,{gap:0,sx:{gridTemplateAreas:'"header header header" "left center right"',gridTemplateColumns:"3fr 9fr 5fr",gridTemplateRows:"9vh 90vh"},children:[Object(m.jsx)(H,{}),Object(m.jsx)(J,{}),Object(m.jsx)(M,{}),Object(m.jsx)(Q,{})]})},$={fonts:{body:"Avenir Next W01,Avenir Next W00,Avenir Next,Avenir,Helvetica Neue,sans-serif",heading:'"Avenir Next", sans-serif',monospace:"Menlo, monospace"},colors:{text:"#d6d6d6",background:"#000000",primary:"#e60000",red:"#e60000",heading:"#fff",gray:{10:"#bdbdbd",50:"#f7fafc",200:"#E2E8F0",400:"#A0AEC0",500:"#718096",600:"#222",700:"#363636"},pink:{50:"#FFF5F7",200:"#9AE6B4",400:"#ED64A6",500:"#D53F8C"},green:{50:"#F0FFF4",200:"#FBB6CE",400:"#48BB78",500:"#38A169"},purple:{50:"#FAF5FF",200:"#D6BCFA",400:"#9F7AEA",500:"#805AD5"}},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem",heading:"2xl"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900,heading:500},text:{caps:{textTransform:"uppercase",letterSpacing:"0.2em"},heading:{fontFamily:"heading",fontWeight:"heading",lineHeight:"heading",color:"heading"}}},ee=r(175),te=function(){return Object(m.jsx)(ee.a,{theme:$,children:Object(m.jsx)(A,{children:Object(m.jsx)(O,{children:Object(m.jsx)(X,{})})})})},re=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,178)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),o(e),a(e)}))};a.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(te,{})}),document.getElementById("root")),re()}},[[168,1,2]]]);
//# sourceMappingURL=main.09fcdb78.chunk.js.map